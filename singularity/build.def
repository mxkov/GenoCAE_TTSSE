Bootstrap: docker
From: nvidia/cuda:11.8.0-cudnn8-devel-ubuntu22.04


%files
    requirements.txt /opt/gcae_requirements.txt

%post
    # To prevent input prompt by tzdata
    TZ=Europe/Stockholm
    ln -snf /usr/share/zoneinfo/$TZ /etc/localtime && echo $TZ > /etc/timezone

    apt update && apt upgrade -y && \
    apt install -y man-db vim grep wget git python3-pip python3-dev
    
    # Tip from Pavlin Mitev
    python3 -m pip install --no-cache-dir --upgrade pip
    
    python3 -m pip install --no-cache-dir -r /opt/gcae_requirements.txt

%test
    python3 -m pip list

%help
    This is a container of dependencies for GCAE.
    For help on GCAE, see https://github.com/ttsse/GenoCAE_TTSSE#readme
